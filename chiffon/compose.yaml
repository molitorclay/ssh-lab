services:
  ssh_a:
    hostname: ssh_a
    build:
      context: .
      dockerfile: a/bld.Dockerfile 
      args:
        SELF: a
    command: /usr/sbin/sshd -D
    ports:
      - "2222:22"
    networks: 
      - ab
    #volumes: #Host all keys for debugging
    #  - ./:/home/rta/build:ro
    
  ssh_b:
    hostname: ssh_b
    build:
      context: .
      dockerfile: b/bld.Dockerfile 
      args:
        SELF: b
    command: /usr/sbin/sshd -D
    
    networks:
      - ab
      - bc
  ssh_c:
    hostname: ssh_c
    build:
      context: .
      dockerfile: c/bld.Dockerfile
      args:
        SELF: c
    command: /usr/sbin/sshd -D
    networks:
      - bc





networks:
  internal: {}
  ab: {}
  bc: {}
